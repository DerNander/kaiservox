<Window x:Class="KaiserVox.Views.FirstRunWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Welcome to KaiserVox"
        Width="520" Height="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">

    <Grid>
        <!-- Step Container -->
        <Grid x:Name="StepContainer" Margin="32">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,32">
                <TextBlock x:Name="StepTitle"
                           Text="Welcome to KaiserVox"
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="{StaticResource TextBrush}"/>
                <TextBlock x:Name="StepDescription"
                           Text="Let's get you set up in just a few steps"
                           FontSize="14"
                           Foreground="{StaticResource TextMutedBrush}"
                           Margin="0,8,0,0"
                           TextWrapping="Wrap"/>
            </StackPanel>

            <!-- Step 1: Welcome -->
            <StackPanel x:Name="Step1Panel" Grid.Row="1" VerticalAlignment="Center">
                <Border Background="{StaticResource SurfaceBrush}"
                        CornerRadius="12"
                        Padding="24">
                    <StackPanel>
                        <TextBlock Text="ðŸŽ¤" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,16"/>
                        <TextBlock Text="Voice dictation made simple"
                                   FontSize="18"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextBrush}"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Hold a hotkey, speak, and your words appear instantly. All processing happens locally on your computer - your voice never leaves your device."
                                   FontSize="13"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Step 2: Microphone Selection -->
            <StackPanel x:Name="Step2Panel" Grid.Row="1" Visibility="Collapsed">
                <Border Background="{StaticResource SurfaceBrush}"
                        CornerRadius="12"
                        Padding="24">
                    <StackPanel>
                        <TextBlock Text="Select your microphone"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextBrush}"
                                   Margin="0,0,0,16"/>
                        
                        <ComboBox x:Name="MicrophoneComboBox"
                                  Background="#2D2D3D"
                                  Foreground="White"
                                  BorderBrush="#3F3F5A"
                                  Padding="12,10"
                                  FontSize="14"
                                  Margin="0,0,0,16">
                            <ComboBox.Resources>
                                <SolidColorBrush x:Key="{x:Static SystemColors.WindowBrushKey}" Color="#2D2D3D"/>
                                <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#3D5AFE"/>
                            </ComboBox.Resources>
                        </ComboBox>
                        
                        <TextBlock Text="You can change this later in Settings"
                                   FontSize="12"
                                   Foreground="{StaticResource TextMutedBrush}"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Step 3: Hotkey Configuration -->
            <StackPanel x:Name="Step3Panel" Grid.Row="1" Visibility="Collapsed">
                <Border Background="{StaticResource SurfaceBrush}"
                        CornerRadius="12"
                        Padding="24">
                    <StackPanel>
                        <TextBlock Text="Set your push-to-talk hotkey"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextBrush}"
                                   Margin="0,0,0,16"/>
                        
                        <TextBox x:Name="HotkeyDisplay"
                                 IsReadOnly="True"
                                 Text="Alt + Space"
                                 Background="#1E1E2E"
                                 Foreground="{StaticResource TextBrush}"
                                 BorderBrush="#3F3F5A"
                                 Padding="12,10"
                                 FontSize="16"
                                 TextAlignment="Center"
                                 Margin="0,0,0,12"/>
                        
                        <Button x:Name="ChangeHotkeyButton"
                                Content="Click to change"
                                Style="{StaticResource SecondaryButton}"
                                HorizontalAlignment="Center"
                                Click="ChangeHotkeyButton_Click"/>
                        
                        <TextBlock Text="Hold this combination to start dictating, release to transcribe"
                                   FontSize="12"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   Margin="0,16,0,0"
                                   TextAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Step 4: Model Download -->
            <StackPanel x:Name="Step4Panel" Grid.Row="1" Visibility="Collapsed">
                <Border Background="{StaticResource SurfaceBrush}"
                        CornerRadius="12"
                        Padding="24">
                    <StackPanel>
                        <TextBlock Text="Download speech recognition model"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextBrush}"
                                   Margin="0,0,0,8"/>
                        
                        <TextBlock Text="KaiserVox uses a state-of-the-art AI model for accurate transcription. This needs to be downloaded once (~140 MB)."
                                   FontSize="13"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,24"/>
                        
                        <ProgressBar x:Name="DownloadProgress"
                                     Height="8"
                                     Background="#3F3F5A"
                                     Foreground="{StaticResource PrimaryBrush}"
                                     Margin="0,0,0,12"
                                     Visibility="Collapsed"/>
                        
                        <TextBlock x:Name="DownloadStatusText"
                                   Text="Ready to download"
                                   FontSize="13"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Step 5: Complete -->
            <StackPanel x:Name="Step5Panel" Grid.Row="1" Visibility="Collapsed" VerticalAlignment="Center">
                <Border Background="{StaticResource SurfaceBrush}"
                        CornerRadius="12"
                        Padding="24">
                    <StackPanel>
                        <TextBlock Text="âœ“" FontSize="48" Foreground="{StaticResource SuccessBrush}" 
                                   HorizontalAlignment="Center" Margin="0,0,0,16"/>
                        <TextBlock Text="You're all set!"
                                   FontSize="18"
                                   FontWeight="SemiBold"
                                   Foreground="{StaticResource TextBrush}"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,8"/>
                        <TextBlock x:Name="FinalHotkeyText"
                                   Text="Press Alt + Space to start dictating"
                                   FontSize="14"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   HorizontalAlignment="Center"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"/>
                        <TextBlock Text="KaiserVox will run in your system tray"
                                   FontSize="13"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   HorizontalAlignment="Center"
                                   Margin="0,16,0,0"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <!-- Navigation -->
            <Grid Grid.Row="2" Margin="0,32,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Step Indicators -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse x:Name="Dot1" Width="8" Height="8" Fill="{StaticResource PrimaryBrush}" Margin="0,0,8,0"/>
                    <Ellipse x:Name="Dot2" Width="8" Height="8" Fill="#3F3F5A" Margin="0,0,8,0"/>
                    <Ellipse x:Name="Dot3" Width="8" Height="8" Fill="#3F3F5A" Margin="0,0,8,0"/>
                    <Ellipse x:Name="Dot4" Width="8" Height="8" Fill="#3F3F5A" Margin="0,0,8,0"/>
                    <Ellipse x:Name="Dot5" Width="8" Height="8" Fill="#3F3F5A"/>
                </StackPanel>

                <!-- Buttons -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="BackButton"
                            Content="Back"
                            Style="{StaticResource SecondaryButton}"
                            Width="80"
                            Visibility="Collapsed"
                            Click="BackButton_Click"/>
                    <Button x:Name="NextButton"
                            Content="Get Started"
                            Style="{StaticResource PrimaryButton}"
                            Width="120"
                            Margin="12,0,0,0"
                            Click="NextButton_Click"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>

